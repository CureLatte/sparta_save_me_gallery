{% extends 'base.html' %}

{% load static %}

{% block head %}
    <link rel="stylesheet" href="{% static 'css/comments.css' %}">
{% endblock %}

{% block content %}
    <div class="modal_container" id="modal_container" style="display: none">
        <div class="modal_box">
            <div class="modal_close" onclick="close_write_box()">
                <i class="fa-solid fa-x "></i>
            </div>
            <div class="user_info_row">
                <p>Name</p>
                <input type="text" id="comment_name">
                <p>PW</p>
                <input type="password" id="comment_password">
            </div>
            <textarea class="write_comment" id="comment_content"></textarea>
            <button class="confirm_button" onclick="save_comment()">Confirm!</button>
        </div>
    </div>

    <div class="modal_container" id="modal_delete_container" style="display: none;">
        <div class="modal_box delete_box">
            <div class="modal_close" onclick="close_delete_comment_box()">
                <i class="fa-solid fa-x "></i>
            </div>
            <div id="delete_target" style="display: none"></div>
            <div class="user_info_row modal_delete_row">
                <p>Name</p>
                <input type="text" id="check_comment_name">
                <p>PW</p>
                <input type="password" id="check_comment_password">
            </div>
            <button class="confirm_button modal_delete_button" onclick="delete_comment()">Delete!</button>
        </div>
    </div>
    <div class="wrapper">
        <p class="comments_title">Please leave your guestbook!</p>
        <button class="write_button" onclick="open_write_box()">Write Comment!</button>
        <div class="comment_container">
            <i class="fa-solid fa-angle-left fa-5x comment_allow"></i>
            <div class="comments_box">
                {% for comment in comments %}
                    <div class="delete_button" id="comment_{{ comment.id }}" onclick="open_delete_comment_box(this.id)">
                        <i class="fa-solid fa-x fa-2x "></i>
                    </div>
                    <div class="comment">

                        <div class="comment_info">
                            <p class="comment_title"><u>Please leave your guestbook!</u></p>
                            <p class="comment_content" id="comment_content_{{ comment.id }}">
                                {{ comment.comment }}
                            </p>
                        </div>
                        <div class="comment_profile">
                            <img src="{{ comment.profile_img }}">
                        </div>
                    </div>
                {% endfor %}


            </div>
            <i class="fa-solid fa-angle-right fa-5x comment_allow"></i>
        </div>
        <p class="page">{{ comments }}</p>
    </div>


{% endblock %}

{% block script %}
    <script src="/static/js/comments.js"></script>
{% endblock %}